(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports={modal:"Modal_modal__3vY3Y",content:"Modal_content__3jPuW",active:"Modal_active__2gqy5"}},25:function(e,t,n){e.exports={list:"employees_list__1DD4w",container:"employees_container__2lC9k",empl:"employees_empl__BCCXg"}},27:function(e,t,n){e.exports={header:"styles_header__nh_al",nav:"styles_nav__2izSS"}},30:function(e,t,n){e.exports={form:"AddUser_form__1QbCQ"}},32:function(e,t,n){e.exports={employeesOverlay:"Users_employeesOverlay__16Gvz",user:"Users_user__35QFA"}},54:function(e,t,n){},55:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(11),a=n.n(s),o=(n(54),n(55),n(15)),i=n(27),l=n.n(i),u=n(2),d=function(){return Object(u.jsxs)("div",{className:l.a.header,children:[Object(u.jsx)(o.b,{className:l.a.nav,to:"/home",children:"Home"}),Object(u.jsx)(o.b,{className:l.a.nav,to:"/employees",children:"Employees"})]})},j=n(3),b=function(){return Object(u.jsx)("div",{children:"Home"})},m=n(9),p=n(13),f=n(20),O=n.n(f),h=n(29),v=n(48),x=n(47),_=n(26),y=n(42),g=n.n(y).a.create({baseURL:"https://reqres.in/api/"}),C=function(){return g.get("users?per_page=12").then((function(e){return e}))},k=function(e){return g.delete("users/".concat(e))},U=Object(_.b)({name:"users",initialState:{users:[]},reducers:{setUsers:function(e,t){console.log(e.users),e.users=t.payload.user},removeUser:function(e,t){var n=e.users.findIndex((function(e){return e.id===t.payload.id}));n>-1&&e.users.splice(n,1)},addUser:function(e,t){e.users=[Object(v.a)({id:Math.floor(1e3*Math.random()),email:"",avatar:""},t.payload)].concat(Object(x.a)(e.users))}}}),N=U.reducer,w=U.actions,M=w.setUsers,S=w.removeUser,A=w.addUser,F=n(21),E=n.n(F),L=function(e){var t=e.modal,n=e.setModal,c=e.children,r="".concat(E.a.modal," ").concat(t?E.a.active:""),s="".concat(E.a.content," ").concat(t?E.a.active:"");return Object(u.jsx)("div",{className:r,onClick:function(){return n(!1)},children:Object(u.jsx)("div",{className:s,onClick:function(e){return e.stopPropagation()},children:c})})},P=n(96),B=n(30),D=n.n(B),I=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(m.a)(s,2),o=a[0],i=a[1],l=Object(c.useState)(!1),d=Object(m.a)(l,2),j=d[0],b=d[1],f=Object(p.b)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:D.a.btn,children:Object(u.jsx)(P.a,{onClick:function(){b(!0)},children:"Add User"})}),Object(u.jsx)(L,{modal:j,setModal:b,children:Object(u.jsxs)("div",{className:D.a.form,children:[Object(u.jsx)("h2",{children:"Add a new employee"}),Object(u.jsx)("input",{type:"text",value:n,id:"first-name",placeholder:"First name",onChange:function(e){r(e.target.value)}}),Object(u.jsx)("input",{type:"text",value:o,id:"last-name",placeholder:"Last name",onChange:function(e){i(e.target.value)}}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){n&&o&&(f(A({first_name:n,last_name:o})),r(""),i(""))},disabled:!n||!o,children:"Accept"})})]})})]})},Q=n(25),q=n.n(Q),z=n(32),H=n.n(z),J=function(e){var t=e.user,n=e.removeUser;return Object(u.jsx)("div",{className:H.a.employeesOverlay,children:Object(u.jsxs)("fieldset",{className:H.a.user,children:[Object(u.jsxs)("legend",{children:[" ",t.first_name," ",t.last_name]}),Object(u.jsx)("img",{src:t.avatar,alt:"Avatar"}),Object(u.jsxs)("p",{children:["email: ",t.email]}),Object(u.jsx)("button",{onClick:function(){return n(t.id)},children:"delete"})]})})},T=function(){var e=Object(p.c)((function(e){return e.users.users})),t=Object(p.b)();Object(c.useEffect)((function(){t(function(){var e=Object(h.a)(O.a.mark((function e(t){var n,c,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:n=e.sent,c=n.status,r=n.data.data,200===c?t(M({user:r})):console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var n=function(e){console.log("remove user id:",e),t(function(e){return function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:204===t.sent.status&&n(S({id:e})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: ",{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},r=Object(c.useCallback)((function(){return e&&e.map((function(e,t){return Object(u.jsx)(J,{user:e,removeUser:n},e.id)}))}),[e]);return Object(u.jsx)("div",{className:q.a.container,children:r()})},Y=function(){return Object(u.jsxs)("div",{className:q.a.empl,children:[Object(u.jsx)(I,{}),Object(u.jsx)(T,{})]})};var G=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/home",element:Object(u.jsx)(b,{})}),Object(u.jsx)(j.a,{path:"/employees",element:Object(u.jsx)(Y,{})})]})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},W=n(6),X=n(18),K=Object(W.b)({users:N}),V=Object(_.a)({reducer:K,middleware:function(e){return e().prepend(X.a)}});window.store=V,a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(p.a,{store:V,children:Object(u.jsx)(G,{})})})}),document.getElementById("root")),R()}},[[81,1,2]]]);
//# sourceMappingURL=main.a6e67986.chunk.js.map